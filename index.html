<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>
    <script type="text/javascript">
        function speechText() {

            console.log($("#srcText").val());
            console.log($("#language").val());
            console.log($("#geneder").val());


            $.ajax({
            url: 'service.php',
            async: true,
            dataType: 'json',
            type: 'post',
            contentType: 'application/x-www-form-urlencoded',
            data: {testo: $("#srcText").val(), language: $("#language").val(),gender:$('#geneder').val()},
            success: function (data, textStatus, jQxhr) { console.log(data); $("#audioPlayer").attr("src", data); },

         data: { "select": $("#language option:selected").val() },

            error: function(jqXhr, textStatus, errorThrown) { console.log(errorThrown); }
        });

        }
    </script>
    <p>
        <select id="language" style="width: 200px">
            <option value="ca-es">Catalan</option>
            <option value="zh-cn">Chinese (China)</option>
            <option value="zh-hk">Chinese (Hong Kong)</option>
            <option value="zh-tw">Chinese (Taiwan)</option>
            <option value="da-dk">Danish</option>
            <option value="nl-nl">Dutch</option>
            <option value="en-au">English (Australia)</option>
            <option value="en-ca">English (Canada)</option>
            <option value="en-gb">English (Great Britain)</option>
            <option value="en-in">English (India)</option>
            <option value="en-us">English (United States)</option>
            <option value="fi-fi">Finnish</option>
            <option value="fr-ca">French (Canada)</option>
            <option value="fr-fr">French (France)</option>
            <option value="de-de">German</option>
            <option value="it-it" selected>Italian</option>
            <option value="ja-jp">Japanese</option>
            <option value="ko-kr">Korean</option>
            <option value="nb-no">Norwegian</option>
            <option value="pl-pl">Polish</option>
            <option value="pt-br">Portuguese (Brazil)</option>
            <option value="pt-pt">Portuguese (Portugal)</option>
            <option value="ru-ru">Russian</option>
            <option value="es-mx">Spanish (Mexico)</option>
            <option value="es-es">Spanish (Spain)</option>
            <option value="sv-se">Swedish (Sweden)</option>
        </select>
    </p>
    <p>
        <select name="gender" id="gender">
            <option value="FEMALE" selected>Donna</option>
            <option value="MALE">Uomo</option>

        </select>
    </p>

        <textarea id="srcText" name="srcText" cols="50" rows="10"></textarea><br/>
            <span  value="Speech" onclick="speechText();"/>
            <audio id="audioPlayer" src="" autoplay="autoplay"></audio>

   </body>
 </html>
